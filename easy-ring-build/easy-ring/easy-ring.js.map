{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 8bbaaf03f5f83eafbc17","webpack:///easy-ring.js","webpack:///./src/components/index.js","webpack:///./src/components/common-easy-ring.js","webpack:///./src/components/easy-ring-vue.js","webpack:///./src/components/easy-ring-default.wav"],"names":["root","factory","exports","module","define","amd","self","this","__webpack_require__","moduleId","installedModules","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","CommonEasyRing","require","default","EasyRingVue","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","src","loop","log","id","active","container","audioObject","_createAudioId","_createAudioObject","parseInt","Math","random","document","createElement","append","_log","pause","currentTime","play","info","console","_openRing","_stopRing","_play","_pause","createAudioId","EasyRingComponent","ring","type","Boolean","String","open","data","watch","val","openRing","stopRing","methods","$props","endHandle","$emit","mounted","getElementById","addEventListener","render","h","class","attrs"],"mappings":"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","file":"easy-ring.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"easy-ring\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"easy-ring\"] = factory();\n\telse\n\t\troot[\"easy-ring\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/media/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8bbaaf03f5f83eafbc17","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"easy-ring\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"easy-ring\"] = factory();\n\telse\n\t\troot[\"easy-ring\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/media/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// Object.defineProperty(exports, '__esModule', { value: true });\nexports.CommonEasyRing = __webpack_require__(1).default;\nexports.EasyRingVue = __webpack_require__(2).default;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// 应该不存在不支持class的浏览器了吧？\n// 暂不考虑低配的浏览器了\n\nexports.default = function () {\n    function CommonEasyRing() {\n        var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        _classCallCheck(this, CommonEasyRing);\n\n        var src = props.src,\n            loop = props.loop,\n            log = props.log;\n\n        this.id = '';\n        this.src = src || './easy-ring-default.wav';\n        this.loop = typeof loop === 'undefined' || true;\n        this.log = typeof log === 'undefined' || true;\n        this.active = false;\n        this.container = null;\n        this.audioObject = null;\n        this._createAudioId();\n        this._createAudioObject();\n    }\n\n    _createClass(CommonEasyRing, [{\n        key: '_createAudioId',\n        value: function _createAudioId() {\n            var id = parseInt(Math.random() * 1000000);\n            this.id = 'easyRing' + id;\n        }\n    }, {\n        key: '_createAudioObject',\n        value: function _createAudioObject() {\n            this.container = document.createElement('div');\n            this.audioObject = document.createElement('audio');\n            this.audioObject.id = this.id;\n            this.audioObject.src = this.src;\n            this.container.append(this.audioObject);\n            this._log('create the ring(id=' + this.id + ')');\n        }\n    }, {\n        key: '_openRing',\n        value: function _openRing() {\n            this._log('open the ring(id=' + this.id + ')');\n            this.active = true;\n            this.audioObject.loop = false;\n            this.audioObject.pause(); // 用于开启用户主动播放\n        }\n    }, {\n        key: '_stopRing',\n        value: function _stopRing() {\n            this._log('close the ring(id=' + this.id + ')');\n            this.active = false;\n            this.audioObject.pause();\n            this.audioObject.currentTime = 0;\n        }\n    }, {\n        key: '_play',\n        value: function _play() {\n            this._log('play the ring(id=' + this.id + ')');\n            if (!this.audioObject.loop && this.loop) this.audioObject.loop = true;\n            if (this.active) {\n                this.audioObject.currentTime = 0;\n                this.audioObject.play();\n            }\n        }\n    }, {\n        key: '_pause',\n        value: function _pause() {\n            this._log('pause the ring(id=' + this.id + ')');\n            this.audioObject.pause();\n        }\n    }, {\n        key: '_log',\n        value: function _log(info) {\n            if (info && this.log) console.log('\\uD83C\\uDF1F\\u3010EASY-RING LOG\\u3011:' + info);\n        }\n    }, {\n        key: 'open',\n        value: function open() {\n            this._openRing();\n        }\n    }, {\n        key: 'close',\n        value: function close() {\n            this._stopRing();\n        }\n    }, {\n        key: 'ring',\n        value: function ring() {\n            this._play();\n        }\n    }, {\n        key: 'stop',\n        value: function stop() {\n            this._pause();\n        }\n    }]);\n\n    return CommonEasyRing;\n}();\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// import Vue from 'vue'\n// import from './1.wav'\n\nvar createAudioId = function createAudioId() {\n    var id = parseInt(Math.random() * 1000000);\n    return 'easyRing' + id;\n};\n\nvar EasyRingComponent = {\n    // template: '<div><audio></audio><input/></div>', // template没用？\n    props: {\n        ring: {\n            type: Boolean,\n            default: false\n        },\n        src: {\n            type: String,\n            default: __webpack_require__(3)\n        },\n        open: {\n            type: Boolean,\n            default: false\n        },\n        loop: {\n            type: Boolean,\n            default: true\n        },\n        log: {\n            type: Boolean,\n            default: true\n        }\n    },\n    data: function data() {\n        return {\n            id: createAudioId(),\n            active: false,\n            audioObject: null\n        };\n    },\n    watch: {\n        ring: function ring(val) {\n            if (val) this.play();else this.pause();\n        },\n        open: function open(val) {\n            if (val) this.openRing();else this.stopRing();\n        }\n    },\n    methods: {\n        openRing: function openRing() {\n            this._log('open the ring(id=' + this.id + ')');\n            this.active = true;\n            this.audioObject.loop = false;\n            this.audioObject.pause(); // 用于开启用户主动播放\n        },\n        stopRing: function stopRing() {\n            this._log('close the ring(id=' + this.id + ')');\n            this.active = false;\n            this.audioObject.pause();\n            this.audioObject.currentTime = 0;\n        },\n        play: function play() {\n            this._log('play the ring(id=' + this.id + ')');\n            if (!this.audioObject.loop && this.$props.loop) this.audioObject.loop = true;\n            if (this.active) {\n                this.audioObject.currentTime = 0;\n                this.audioObject.play();\n            }\n        },\n        pause: function pause() {\n            this._log('pause the ring(id=' + this.id + ')');\n            this.audioObject.pause();\n        },\n        _log: function _log(info) {\n            if (info && this.$props.log) console.log('\\uD83C\\uDF1F\\u3010EASY-RING LOG\\u3011:' + info);\n        },\n        endHandle: function endHandle() {\n            this._log('end');\n            if (!this.$props.loop) {\n                this.$emit('update:ring', false);\n            }\n        }\n    },\n    mounted: function mounted() {\n        var _this = this;\n\n        this._log('mounted');\n        this.audioObject = document.getElementById(this.id);\n        this.audioObject.addEventListener('ended', function () {\n            _this.endHandle();\n        });\n    },\n    render: function render(h) {\n        // 用箭头就没法用this了\n        return h('div', {\n            class: 'easy-ring-container'\n        }, [h('audio', {\n            attrs: {\n                id: this.id,\n                src: this.src\n            },\n            class: 'easy-ring'\n            // onEnded() { // 事件监听器应以 onXxx 的形式书写\n            //   this.endHandle()\n            // }\n            // prop 的可选参数都是啥啊？只有class和src？\n        })]);\n    }\n};\n\nexports.default = EasyRingComponent;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"easy-ring-default.wav\";\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// easy-ring.js","// Object.defineProperty(exports, '__esModule', { value: true });\nexports.CommonEasyRing = require('./common-easy-ring').default\nexports.EasyRingVue = require('./easy-ring-vue').default\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/index.js","// 应该不存在不支持class的浏览器了吧？\n// 暂不考虑低配的浏览器了\n\nexports.default = class CommonEasyRing {\n    constructor(props = {}) {\n        const { src, loop, log } = props\n        this.id = ''\n        this.src = src || './easy-ring-default.wav'\n        this.loop = typeof loop === 'undefined' || true\n        this.log = typeof log === 'undefined' || true\n        this.active = false\n        this.container = null\n        this.audioObject = null\n        this._createAudioId()\n        this._createAudioObject()\n    }\n    _createAudioId() {\n        const id = parseInt(Math.random() * 1000000)\n        this.id = `easyRing${id}`\n    }\n    _createAudioObject() {\n        this.container = document.createElement('div')\n        this.audioObject = document.createElement('audio')\n        this.audioObject.id = this.id\n        this.audioObject.src = this.src\n        this.container.append(this.audioObject)\n        this._log(`create the ring(id=${this.id})`)\n    }\n    _openRing() {\n        this._log(`open the ring(id=${this.id})`)\n        this.active = true\n        this.audioObject.loop = false\n        this.audioObject.pause() // 用于开启用户主动播放\n    }\n    _stopRing() {\n        this._log(`close the ring(id=${this.id})`)\n        this.active = false\n        this.audioObject.pause()\n        this.audioObject.currentTime = 0\n    }\n    _play() {\n        this._log(`play the ring(id=${this.id})`)\n        if (!this.audioObject.loop && this.loop) this.audioObject.loop = true\n        if (this.active) {\n            this.audioObject.currentTime = 0\n            this.audioObject.play()\n        }\n    }\n    _pause() {\n        this._log(`pause the ring(id=${this.id})`)\n        this.audioObject.pause()\n    }\n    _log(info){\n        if (info && this.log)\n        console.log(`🌟【EASY-RING LOG】:${info}`)\n    }\n    open() {\n        this._openRing()\n    }\n    close() {\n        this._stopRing()\n    }\n    ring() {\n        this._play() \n    }\n    stop() {\n        this._pause()\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/common-easy-ring.js","// import Vue from 'vue'\n// import from './1.wav'\n\nconst createAudioId = () => {\n  const id = parseInt(Math.random() * 1000000)\n  return `easyRing${id}`\n}\n\nconst EasyRingComponent = {\n  // template: '<div><audio></audio><input/></div>', // template没用？\n  props: {\n    ring: {\n        type: Boolean,\n        default: false\n    },\n    src: {\n        type: String,\n        default: require('./easy-ring-default.wav')\n    },\n    open: {\n        type: Boolean,\n        default: false\n    },\n    loop: {\n        type: Boolean,\n        default: true\n    },\n    log: {\n        type: Boolean,\n        default: true\n    }\n  },\n  data: () => ({\n    id: createAudioId(),\n    active: false,\n    audioObject: null\n  }),\n  watch: {\n    ring(val) {\n        if (val) this.play() \n        else this.pause()\n    },\n    open(val) {\n        if (val) this.openRing()\n        else this.stopRing()\n    }\n  },\n  methods: {\n      openRing() {\n          this._log(`open the ring(id=${this.id})`)\n          this.active = true\n          this.audioObject.loop = false\n          this.audioObject.pause() // 用于开启用户主动播放\n      },\n      stopRing() {\n          this._log(`close the ring(id=${this.id})`)\n          this.active = false\n          this.audioObject.pause()\n          this.audioObject.currentTime = 0\n      },\n      play() {\n          this._log(`play the ring(id=${this.id})`)\n          if (!this.audioObject.loop && this.$props.loop) this.audioObject.loop = true\n          if (this.active) {\n              this.audioObject.currentTime = 0\n              this.audioObject.play()\n          }\n      },\n      pause() {\n          this._log(`pause the ring(id=${this.id})`)\n          this.audioObject.pause()\n      },\n      _log(info) {\n          if (info && this.$props.log)\n          console.log(`🌟【EASY-RING LOG】:${info}`)\n      },\n      endHandle() {\n        this._log('end')\n        if (!this.$props.loop) {\n          this.$emit('update:ring', false)\n        }\n      }\n  },\n  mounted() {\n      this._log('mounted')\n      this.audioObject = document.getElementById(this.id)\n      this.audioObject.addEventListener('ended', () => {\n        this.endHandle()\n      })\n  },\n  render(h) { // 用箭头就没法用this了\n    return h('div', \n      {\n        class: 'easy-ring-container'\n      },\n      [\n        h('audio', {\n          attrs: {\n            id: this.id,\n            src: this.src\n          },\n          class: 'easy-ring'\n          // onEnded() { // 事件监听器应以 onXxx 的形式书写\n          //   this.endHandle()\n          // }\n          // prop 的可选参数都是啥啊？只有class和src？\n        })\n    ])\n  }\n}\n\nexports.default = EasyRingComponent\n\n\n// WEBPACK FOOTER //\n// ./src/components/easy-ring-vue.js","module.exports = __webpack_public_path__ + \"easy-ring-default.wav\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/easy-ring-default.wav\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}